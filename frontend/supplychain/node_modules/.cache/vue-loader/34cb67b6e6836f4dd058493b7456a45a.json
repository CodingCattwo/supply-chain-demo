{"remainingRequest":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/src/views/regist/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/src/views/regist/index.vue","mtime":1623815030941},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSAiQC9hcGkvdXNlciI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCA2KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlr4bnoIHoh7PlsJE25L2NIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICByZWdpc3RlckZvcm06IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIG9yZ05hbWU6ICIiLAogICAgICAgIG9yZ0Rlc2NyaXB0aW9uOiAiIgogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcGFzc3dvcmRUeXBlOiAicGFzc3dvcmQiLAogICAgICByZWdpc3RlclJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICJibHVyIiwgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkIH0KICAgICAgICBdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVSZWdpc3Rlcihmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjb25zdCByZWdpc3RlclBhcmFtcyA9IHRoaXMucmVnaXN0ZXJGb3JtOwogICAgICAgICAgcmVnaXN0ZXIocmVnaXN0ZXJQYXJhbXMpCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCLms6jlhozmiJDlip8iLCAi5rOo5YaM5oiQ5YqfIiwgewogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuWOu+eZu+W9lSIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIGNsb3NlT25DbGlja01vZGFsOiBmYWxzZQogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9sb2dpbiIgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93UHdkKCkgewogICAgICBpZiAodGhpcy5wYXNzd29yZFR5cGUgPT09ICJwYXNzd29yZCIpIHsKICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gInBhc3N3b3JkIjsKICAgICAgfQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZC5mb2N1cygpOwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/regist","sourcesContent":["<template>\n  <div class=\"register-container\">\n    <header class=\"top\">\n      <div class=\"content\">\n        <div class=\"logo\">基于区块链的供应链管理结算平台</div>\n        <router-link to=\"/\">返回首页</router-link>\n      </div>\n    </header>\n    <div class=\"brand\">欢迎注册帐号</div>\n    <div class=\"register-form\">\n      <div class=\"login-link\">\n        已有账号？<router-link to=\"/login\">去登录</router-link>\n      </div>\n      <el-form\n        ref=\"registerForm\"\n        :model=\"registerForm\"\n        :rules=\"registerRules\"\n        class=\"login-form\"\n        auto-complete=\"on\"\n        label-position=\"left\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input\n            ref=\"username\"\n            v-model=\"registerForm.username\"\n            placeholder=\"用户名\"\n            name=\"username\"\n            type=\"text\"\n            tabindex=\"1\"\n            auto-complete=\"on\"\n          />\n        </el-form-item>\n        <el-form-item prop=\"orgName\">\n          <el-input\n            ref=\"orgName\"\n            v-model=\"registerForm.orgName\"\n            placeholder=\"组织名称\"\n            name=\"orgName\"\n            type=\"text\"\n            tabindex=\"1\"\n          />\n        </el-form-item>\n        <el-form-item prop=\"orgDescription\">\n          <el-input\n            ref=\"orgDescription\"\n            v-model=\"registerForm.orgDescription\"\n            placeholder=\"组织描述\"\n            name=\"orgDescription\"\n            type=\"text\"\n            tabindex=\"1\"\n          />\n        </el-form-item>\n\n        <el-form-item prop=\"password\">\n          <el-input\n            :key=\"passwordType\"\n            ref=\"password\"\n            v-model=\"registerForm.password\"\n            :type=\"passwordType\"\n            placeholder=\"密码\"\n            name=\"password\"\n            tabindex=\"2\"\n            auto-complete=\"on\"\n          />\n        </el-form-item>\n\n        <el-button\n          :loading=\"loading\"\n          type=\"primary\"\n          style=\"width:100%;margin-bottom:30px;\"\n          @click.native.prevent=\"handleRegister('registerForm')\"\n          >注册</el-button\n        >\n      </el-form>\n    </div>\n    <div class=\"copyright\">\n      CopyRight ©2020 Super Supply Chain All Rights Reserved\n    </div>\n  </div>\n</template>\n\n<script>\nimport { register } from \"@/api/user\";\n\nexport default {\n  data() {\n    const validatePassword = (rule, value, callback) => {\n      if (value.length < 6) {\n        callback(new Error(\"密码至少6位\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      registerForm: {\n        username: \"\",\n        password: \"\",\n        orgName: \"\",\n        orgDescription: \"\"\n      },\n      loading: false,\n      passwordType: \"password\",\n      registerRules: {\n        username: [{ required: true, trigger: \"blur\" }],\n        password: [\n          { required: true, trigger: \"blur\", validator: validatePassword }\n        ]\n      }\n    };\n  },\n  methods: {\n    handleRegister(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          const registerParams = this.registerForm;\n          register(registerParams)\n            .then(res => {\n              if (res.code === 0) {\n                this.$confirm(\"注册成功\", \"注册成功\", {\n                  confirmButtonText: \"去登录\",\n                  type: \"success\",\n                  showCancelButton: false,\n                  closeOnClickModal: false\n                }).then(() => {\n                  this.$router.push({ path: \"/login\" });\n                });\n              }\n            })\n            .catch(function(error) {\n              console.log(error);\n            });\n        }\n      });\n    },\n    showPwd() {\n      if (this.passwordType === \"password\") {\n        this.passwordType = \"\";\n      } else {\n        this.passwordType = \"password\";\n      }\n      this.$nextTick(() => {\n        this.$refs.password.focus();\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.register-container {\n  .login-link {\n    padding: 0 35px 35px;\n    text-align: right;\n    font-size: 12px;\n    color: #666;\n    a {\n      color: #09aaff;\n    }\n  }\n  .top {\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 60px;\n    background-color: rgba(104, 104, 104, 0.15);\n    z-index: 1000;\n    color: #fff;\n    .content {\n      width: 980px;\n      margin: 0 auto;\n      padding-top: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n  }\n  .register-form {\n    position: relative;\n    z-index: 2000;\n    width: 705px;\n    font-size: 14px;\n    margin: 0 auto;\n    top: -90px;\n    padding: 65px 20px 20px;\n    background: #fff;\n    box-shadow: 0 4px 5px 0 rgb(0 0 0 / 9%);\n    .el-form {\n      width: 420px;\n      margin: 0 auto;\n    }\n  }\n  .brand {\n    width: 100%;\n    height: 400px;\n    line-height: 400px;\n    color: #fff;\n    font-size: 32px;\n    text-align: center;\n    background: url(\"../../assets/images/regist-bg.jpg\") no-repeat top center;\n    background-size: cover;\n  }\n}\n.copyright {\n  padding: 20px 0;\n  border-top: 1px solid #efefef;\n  font-size: 12px;\n  text-align: center;\n  color: #454a5b;\n}\n</style>\n"]}]}