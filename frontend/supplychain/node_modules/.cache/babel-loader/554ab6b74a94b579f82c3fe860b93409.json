{"remainingRequest":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/babel-loader/lib/index.js!/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/src/views/create/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/src/views/create/index.vue","mtime":1623821705459},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lannywu/A2021/06/0616/supply-chain-demo/frontend/supplychain/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbGFubnl3dS9BMjAyMS8wNi8wNjE2L3N1cHBseS1jaGFpbi1kZW1vL2Zyb250ZW5kL3N1cHBseWNoYWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFBhcnRpY2lwYXRlcklkLCBnZXRVc2VySWQgfSBmcm9tICJAL3V0aWxzL2F1dGgiOwppbXBvcnQgeyBnZXRTZWxlY3RMaXN0LCBjcmVhdGVDaGFpbiB9IGZyb20gIkAvYXBpL3RhYmxlIjsKaW1wb3J0IHV1aWR2NCBmcm9tICJ1dWlkL3Y0IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgaXNEZWNpbWFsID0gZnVuY3Rpb24gaXNEZWNpbWFsKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICB2YXIgcmVnID0gL14oWzFdP1xkezEsMn0pJC87CgogICAgICBpZiAoIXJlZy50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWlMS0xMDDkuYvpl7TmlbTmlbAiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjcmVhdGVSdWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5qCH6aKYIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGRlc2M6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmj4/ov7AiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcm9sZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeinkuiJsiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwb3J0aW9uOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBpc0RlY2ltYWwsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBpZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWPguS4juiAhSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICB0ZXN0OiAiIiwKICAgICAgcm9sZUxpc3Q6IFtdLAogICAgICBsZXZlbDogMSwKICAgICAgbmV4dFV1aWQ6ICIiLAogICAgICBkeW5hbWljVmFsaWRhdGVGb3JtOiB7CiAgICAgICAgaXRlbUxpc3Q6IFt7CiAgICAgICAgICBpZDogIiIsCiAgICAgICAgICByb2xlOiAiIiwKICAgICAgICAgIHBvcnRpb246ICIiLAogICAgICAgICAgaXRlbUlkOiB0aGlzLmNyZWF0ZVV1aWQoKSwKICAgICAgICAgIGxldmVsT25DaGFpbjogMCwKICAgICAgICAgIGlzU2VsZWN0OiB0cnVlLAogICAgICAgICAgcGFydGljaXBhdGVySWQ6ICIiCiAgICAgICAgfV0sCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHVzZXJJZDogIiIKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNlbGV0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlVXVpZDogZnVuY3Rpb24gY3JlYXRlVXVpZCgpIHsKICAgICAgdmFyIHV1aWQgPSB1dWlkdjQoKTsKICAgICAgdXVpZCA9IHV1aWQuc3BsaXQoIi0iKS5qb2luKCIiKTsKICAgICAgcmV0dXJuIHV1aWQ7CiAgICB9LAogICAgZ2V0U2VsZXREYXRhOiBmdW5jdGlvbiBnZXRTZWxldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXNlcklkID0gZ2V0VXNlcklkKCk7CiAgICAgIHZhciBwSWQgPSBnZXRQYXJ0aWNpcGF0ZXJJZCgpOwogICAgICB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0udXNlcklkID0gdXNlcklkOwogICAgICB0aGlzLnByZVV1aWQgPSB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uaXRlbUxpc3RbMF0uaXRlbUlkOwogICAgICBnZXRTZWxlY3RMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucm9sZUxpc3QgPSByZXMuZGF0YTsKCiAgICAgICAgX3RoaXMucm9sZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gcElkKSB7CiAgICAgICAgICAgIF90aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uaXRlbUxpc3RbMF0uaWQgPSBpdGVtLmlkOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzMi5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0OwogICAgICAgICAgdmFyIHRvdGFsUmF0aW8gPSBkYXRhLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGN1ci5wb3J0aW9uKSArIHBhcnNlRmxvYXQocHJldik7CiAgICAgICAgICB9LCAwKTsKCiAgICAgICAgICBpZiAodG90YWxSYXRpbyAhPT0gMTAwKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrueahOS7veminSIsCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGFycmF5SWQgPSBbXTsKICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgYXJyYXlJZC5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciBub1JlcGVhdElkID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoYXJyYXlJZCkpOwoKICAgICAgICAgICAgaWYgKGFycmF5SWQubGVuZ3RoID09PSBub1JlcGVhdElkLmxlbmd0aCkgewogICAgICAgICAgICAgIF90aGlzMi5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICBpdGVtLnBhcnRpY2lwYXRlcklkID0gaXRlbS5pZDsKICAgICAgICAgICAgICAgIGl0ZW0ubGV2ZWxPbkNoYWluID0gaW5kZXg7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5keW5hbWljVmFsaWRhdGVGb3JtKTsKICAgICAgICAgICAgICBjcmVhdGVDaGFpbihfdGhpczIuZHluYW1pY1ZhbGlkYXRlRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRjb25maXJtKCLmj5DkuqTmiJDlip8iLCAi5o+Q5Lqk5oiQ5YqfIiwgewogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi6L+U5ZueIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgcGF0aDogIi9saXN0IgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuWPguS4juiAheS4jeiDvemHjeWkjemAieaLqSIsCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgcmVtb3ZlQ2hhaW46IGZ1bmN0aW9uIHJlbW92ZUNoYWluKGl0ZW0pIHsKICAgICAgdmFyIGNoYWluSW5kZXggPSB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uaXRlbUxpc3QuaW5kZXhPZihpdGVtKTsKICAgICAgY29uc29sZS5sb2codGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0Lmxlbmd0aCAtIDEpOwogICAgICBjb25zb2xlLmxvZyhjaGFpbkluZGV4KTsKCiAgICAgIGlmIChjaGFpbkluZGV4ICE9PSB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uaXRlbUxpc3QubGVuZ3RoIC0gMSkgewogICAgICAgIHZhciBwcmVJdGVtID0gdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0W2NoYWluSW5kZXggLSAxXTsKICAgICAgICB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uaXRlbUxpc3RbY2hhaW5JbmRleCArIDFdLmxhc3RJdGVtSWQgPSBwcmVJdGVtLml0ZW1JZDsKICAgICAgfQoKICAgICAgaWYgKGNoYWluSW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0LnNwbGljZShjaGFpbkluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIGFkZENoYWluOiBmdW5jdGlvbiBhZGRDaGFpbigpIHsKICAgICAgdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0LnB1c2goewogICAgICAgIHBhcnRpY2lwYXRlcklkOiAiIiwKICAgICAgICByb2xlOiAiIiwKICAgICAgICBwb3J0aW9uOiAiIiwKICAgICAgICAvL2xldmVsT25DaGFpbjogdGhpcy5sZXZlbCsrLAogICAgICAgIGl0ZW1JZDogdGhpcy5jcmVhdGVVdWlkKCksCiAgICAgICAgbGFzdEl0ZW1JZDogdGhpcy5wcmVVdWlkLAogICAgICAgIGlzU2VsZWN0OiBmYWxzZQogICAgICB9KTsKICAgICAgdmFyIHByZUluZGV4ID0gdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLml0ZW1MaXN0Lmxlbmd0aCAtIDE7CiAgICAgIHRoaXMucHJlVXVpZCA9IHRoaXMuZHluYW1pY1ZhbGlkYXRlRm9ybS5pdGVtTGlzdFtwcmVJbmRleF0uaXRlbUlkOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uaXRlbUxpc3QpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"create-form\">\n      <el-form\n        :model=\"dynamicValidateForm\"\n        :rules=\"createRules\"\n        ref=\"dynamicValidateForm\"\n        label-width=\"100px\"\n        class=\"demo-dynamic\"\n      >\n        <el-form-item prop=\"title\" label=\"标题\">\n          <el-input v-model=\"dynamicValidateForm.title\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"desc\" label=\"描述\">\n          <el-input v-model=\"dynamicValidateForm.desc\"></el-input>\n        </el-form-item>\n        <el-form-item\n          class=\"demo-form-inline\"\n          v-for=\"(chain, index) in dynamicValidateForm.itemList\"\n          :label=\"'参与方' + index\"\n          :key=\"chain.key\"\n        >\n          <el-row>\n            <el-col :span=\"8\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'itemList.' + index + '.role'\"\n                :rules=\"createRules.role\"\n              >\n                <el-input v-model=\"chain.role\" placeholder=\"角色\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'itemList.' + index + '.portion'\"\n                :rules=\"createRules.portion\"\n              >\n                <el-input\n                  type=\"number\"\n                  maxlength=\"2\"\n                  v-model=\"chain.portion\"\n                  placeholder=\"份额\"\n                >\n                  <template slot=\"append\">%</template>\n                </el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"7\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'itemList.' + index + '.id'\"\n                :rules=\"createRules.id\"\n              >\n                <el-select\n                  v-model=\"chain.id\"\n                  placeholder=\"参与者\"\n                  :disabled=\"chain.isSelect\"\n                >\n                  <template>\n                    <el-option\n                      v-for=\"item in roleList\"\n                      :label=\"item.orgName\"\n                      :value=\"item.id\"\n                      :key=\"item.id\"\n                    ></el-option>\n                  </template>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"1\">\n              <div style=\"padding-left:5px\" v-if=\"!chain.isSelect\">\n                <el-button type=\"text\" @click=\"removeChain(chain)\"\n                  >移除</el-button\n                >\n              </div>\n            </el-col>\n          </el-row>\n          <!--  <el-button @click.prevent=\"removeChain(chain)\">删除</el-button> -->\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\"\n            >提交</el-button\n          >\n          <el-button @click=\"addChain\">新增</el-button>\n          <!--  <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button> -->\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getParticipaterId, getUserId } from \"@/utils/auth\";\nimport { getSelectList, createChain } from \"@/api/table\";\nimport uuidv4 from \"uuid/v4\";\nexport default {\n  data() {\n    const isDecimal = (rule, value, callback) => {\n      const reg = /^([1]?\\d{1,2})$/;\n      if (!reg.test(value)) {\n        callback(new Error(\"请输入1-100之间整数\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      createRules: {\n        title: [{ required: true, message: \"请输入标题\", trigger: \"blur\" }],\n        desc: [{ required: true, message: \"请输入描述\", trigger: \"blur\" }],\n        role: [{ required: true, message: \"请输入角色\", trigger: \"blur\" }],\n        portion: [{ validator: isDecimal, trigger: \"blur\" }],\n        id: [{ required: true, message: \"请选择参与者\", trigger: \"blur\" }],\n      },\n      test: \"\",\n      roleList: [],\n\n      level: 1,\n      nextUuid: \"\",\n      dynamicValidateForm: {\n        itemList: [\n          {\n            id: \"\",\n            role: \"\",\n            portion: \"\",\n            itemId: this.createUuid(),\n            levelOnChain: 0,\n            isSelect: true,\n            participaterId: \"\",\n          },\n        ],\n        title: \"\",\n        userId: \"\",\n      },\n    };\n  },\n  created() {\n    this.getSeletData();\n  },\n  methods: {\n    createUuid() {\n      let uuid = uuidv4();\n      uuid = uuid.split(\"-\").join(\"\");\n      return uuid;\n    },\n    getSeletData() {\n      const userId = getUserId();\n      const pId = getParticipaterId();\n      this.dynamicValidateForm.userId = userId;\n      this.preUuid = this.dynamicValidateForm.itemList[0].itemId;\n      getSelectList().then((res) => {\n        this.roleList = res.data;\n        this.roleList.forEach((item) => {\n          if (item.id == pId) {\n            this.dynamicValidateForm.itemList[0].id = item.id;\n          }\n        });\n      });\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          const data = this.dynamicValidateForm.itemList;\n          let totalRatio = data.reduce((prev, cur) => {\n            return parseFloat(cur.portion) + parseFloat(prev);\n          }, 0);\n\n          if (totalRatio !== 100) {\n            this.$message({\n              message: \"请输入正确的份额\",\n              type: \"warning\",\n            });\n          } else {\n            let arrayId = [];\n            data.forEach((item) => {\n              arrayId.push(item.id);\n            });\n            const noRepeatId = [...new Set(arrayId)];\n\n            if (arrayId.length === noRepeatId.length) {\n              this.dynamicValidateForm.itemList.forEach((item, index) => {\n                item.participaterId = item.id;\n                item.levelOnChain = index;\n              });\n              console.log(this.dynamicValidateForm);\n              createChain(this.dynamicValidateForm).then((res) => {\n                if (res.code === 0) {\n                  this.$confirm(\"提交成功\", \"提交成功\", {\n                    confirmButtonText: \"返回\",\n                    type: \"success\",\n                    showCancelButton: false,\n                    closeOnClickModal: false,\n                  }).then(() => {\n                    this.$router.push({ path: \"/list\" });\n                  });\n                }\n              });\n            } else {\n              this.$message({\n                message: \"参与者不能重复选择\",\n                type: \"error\",\n              });\n              return;\n            }\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    removeChain(item) {\n      const chainIndex = this.dynamicValidateForm.itemList.indexOf(item);\n      console.log(this.dynamicValidateForm.itemList.length - 1);\n      console.log(chainIndex);\n      if (chainIndex !== this.dynamicValidateForm.itemList.length - 1) {\n        const preItem = this.dynamicValidateForm.itemList[chainIndex - 1];\n        this.dynamicValidateForm.itemList[chainIndex + 1].lastItemId =\n          preItem.itemId;\n      }\n\n      if (chainIndex !== -1) {\n        this.dynamicValidateForm.itemList.splice(chainIndex, 1);\n      }\n    },\n    addChain() {\n      this.dynamicValidateForm.itemList.push({\n        participaterId: \"\",\n        role: \"\",\n        portion: \"\",\n        //levelOnChain: this.level++,\n        itemId: this.createUuid(),\n        lastItemId: this.preUuid,\n        isSelect: false,\n      });\n      const preIndex = this.dynamicValidateForm.itemList.length - 1;\n      this.preUuid = this.dynamicValidateForm.itemList[preIndex].itemId;\n      console.log(this.dynamicValidateForm.itemList);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.create-form {\n  width: 70%;\n  height: 900px;\n  margin: 40px auto;\n  .el-col .el-form-item__content,\n  .el-input input {\n    margin-left: 10px;\n  }\n  .el-col .el-input input {\n    margin-left: 0;\n  }\n  .el-select {\n    display: block;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/create"}]}